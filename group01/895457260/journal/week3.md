上周仿真cpu的补充  
==============  
上周的仿真cpu做出来给同学看后，被问到一个问题，这次把答案记下来。  
>问题：从内存取出8bit之后，有时应该送往IR译码，有时应该送往别的地方，如何判断这些bit是指令还是数据，以及应该把它们送到哪里？
  
这个问题弄错了一个关键点：  
>在计算机内，不论指令还是数据，本质上没有任何差别，都是二进制bit。计算机根本不需要做这些判断。
  
我们先来想一下那个cpu的工作方式：  
>PC值放上总线  
>AR从总线上读值  
>AR值进入RAM地址端  
>RAM中的指令读出来放上总线  
>IR从总线上读值，译码，PC+1  
>执行这条指令  
>反复这一过程
  
在这个过程中，PC先把值放到总线，AR再从总线上读，各个部件之间有先后顺序。这个先后顺序是由谁来控制的？答案是由控制信号来控制的。控制信号有很多位，每一位连到某个部件的某个控制端，比如第1位就连到PC通往总线的三态门低有效控制端，第2位连到AR的时钟输入……  
这种先后顺序，就可以通过不同控制信号的先后顺序来实现，比如：
>第1条控制信号就是00……（PC三态门打开，AR时钟不动）  
>第2条控制信号是01……（PC三态门保持打开，AR时钟上升沿）  
>第3条控制信号是10……（PC三态门关上，AR时钟恢复0）
  
按顺序送出这3条控制信号，就实现了PC值先放上总线，AR再从总线上读值这一动作。  
>回到问题本身，cpu把取出的bit传给IR，不是因为cpu判断出这些bit是指令，而是受到控制信号序列的控制，控制信号让IR从总线上读值，那么总线上的值就是指令。编程者做的，只是算准了哪些地方的bit会被IR读走，然后在这些地方放上自己的指令罢了。
